{"version":3,"file":"backbone.blazer.min.js","sources":["backbone.blazer.js"],"names":["root","factory","exports","module","require","define","amd","$","_","Backbone","this","Blazer","Route","options","extend","result","initialize","apply","arguments","Model","prototype","Events","destroy","stopListening","prepare","execute","error","redirect","fragment","redirectFragment","prependFilter","before","after","filters","filter","Router","createFilter","isEmpty","unshift","appendFilter","push","constructor","namedRoutes","routeHandlers","route","routeName","config","length","isString","replace","toLowerCase","console","warn","isRegExp","_routeToRegExp","routeData","handler","router","has","name","url","get","bind","history","params","_extractParameters","parameters","args","segment","key","object","slice","handleRoute","navigateTo","navigate","done","current","trigger","concat","previous","isFunction","_handleBlazerRoute","Error","path","isObject","isArray","flatten","rest","index","match","isUndefined","matchesUrl","indexOf","ancestors","nodes","segments","split","join","pop","reverse","each","keys","siblings","nomatch","active","callback","_runBeforeFilters","then","_runHandler","_runAfterFilters","fail","Array","call","errorHandled","_runFilters","which","stageFilters","compact","pluck","def","Deferred","chain","reduce","resolve","promise","reject","when","registerFilter","filterName","fn","beforeRoute","afterRoute"],"mappings":"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"}