{"version":3,"file":"backbone.blazer.min.js","sources":["backbone.blazer.js"],"names":["root","factory","exports","module","require","define","amd","$","_","Backbone","this","Blazer","Route","options","extend","result","initialize","apply","arguments","Model","prototype","Events","destroy","stopListening","prepare","execute","exit","error","canNavigate","redirect","fragment","redirectFragment","prependFilter","before","after","filters","filter","Router","createFilter","isEmpty","unshift","appendFilter","push","Section","constructor","router","history","on","ctx","section","executeUrl","parameters","path","route","routeName","config","namedRoutes","routeHandlers","handlers","length","isString","replace","toLowerCase","console","warn","isRegExp","_routeToRegExp","routeData","handler","has","name","url","params","defaults","isArray","isObject","getUrl","routeHandler","_extractParameters","args","segment","key","object","slice","handleRoute","callback","executeRoute","any","test","navigate","previous","current","call","navigateTo","get","rest","concat","done","trigger","isFunction","_handleBlazerRoute","Error","flatten","index","match","isUndefined","isNull","matchesUrl","matchesRoute","isAncestor","indexOf","ancestors","nodes","segments","split","join","pop","reverse","each","keys","bind","siblings","nomatch","active","dfd","_runHandler","Deferred","resolve","promise","then","_runBeforeFilters","_runAfterFilters","fail","_cancelRoute","Array","errorHandled","previousFragment","_runFilters","which","stageFilters","compact","pluck","def","chain","reduce","reject","when","registerFilter","filterName","fn","beforeRoute","afterRoute"],"mappings":"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"}