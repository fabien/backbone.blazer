{"version":3,"file":"backbone.blazer.min.js","sources":["backbone.blazer.js"],"names":["root","factory","exports","module","require","define","amd","$","_","Backbone","this","Blazer","Route","options","extend","result","initialize","apply","arguments","Model","prototype","Events","destroy","stopListening","prepare","execute","exit","error","canNavigate","redirect","fragment","redirectFragment","prependFilter","before","after","filters","filter","Router","createFilter","isEmpty","unshift","appendFilter","push","Section","constructor","router","history","ctx","executeUrl","parameters","path","route","routeName","config","namedRoutes","routeHandlers","handlers","length","isString","replace","toLowerCase","console","warn","isRegExp","_routeToRegExp","routeData","handler","has","name","url","params","defaults","isArray","isObject","getUrl","routeHandler","_extractParameters","args","segment","key","object","slice","handleRoute","callback","section","executeRoute","any","test","navigate","previous","current","call","navigateTo","get","rest","concat","done","trigger","isFunction","_handleBlazerRoute","Error","flatten","index","match","isUndefined","isNull","matchesUrl","matchesRoute","isAncestor","indexOf","ancestors","nodes","segments","split","join","pop","reverse","each","keys","bind","siblings","nomatch","active","dfd","_runHandler","Deferred","resolve","promise","then","_runBeforeFilters","_runAfterFilters","fail","_cancelRoute","Array","errorHandled","previousFragment","_runFilters","which","stageFilters","compact","pluck","def","chain","reduce","reject","when","registerFilter","filterName","fn","beforeRoute","afterRoute"],"mappings":"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"}