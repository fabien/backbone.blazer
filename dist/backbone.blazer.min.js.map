{"version":3,"file":"backbone.blazer.min.js","sources":["backbone.blazer.js"],"names":["root","factory","exports","module","require","define","amd","$","_","Backbone","this","Blazer","Route","options","extend","result","initialize","apply","arguments","Model","prototype","Events","destroy","stopListening","prepare","execute","error","redirect","fragment","redirectFragment","prependFilter","before","after","filters","filter","Router","createFilter","isEmpty","unshift","appendFilter","push","constructor","namedRoutes","routeHandlers","route","routeName","config","length","isString","replace","toLowerCase","console","warn","isRegExp","_routeToRegExp","routeData","handler","router","name","url","get","bind","history","params","_extractParameters","parameters","args","segment","key","object","slice","handleRoute","navigateTo","navigate","done","current","trigger","concat","previous","isFunction","_handleBlazerRoute","Error","path","isObject","isArray","flatten","rest","index","match","isUndefined","matchesUrl","indexOf","callback","_runBeforeFilters","then","_runHandler","_runAfterFilters","fail","Array","call","errorHandled","_runFilters","which","stageFilters","compact","pluck","def","Deferred","chain","reduce","resolve","promise","reject","when","registerFilter","filterName","fn","beforeRoute","afterRoute"],"mappings":"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"}