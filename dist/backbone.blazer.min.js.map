{"version":3,"file":"backbone.blazer.min.js","sources":["backbone.blazer.js"],"names":["root","factory","exports","module","require","define","amd","$","_","Backbone","this","Blazer","Route","options","extend","result","initialize","apply","arguments","Model","prototype","Events","destroy","stopListening","prepare","execute","error","canNavigate","redirect","fragment","redirectFragment","prependFilter","before","after","filters","filter","Router","createFilter","isEmpty","unshift","appendFilter","push","Section","constructor","router","history","ctx","executeUrl","parameters","path","route","routeName","config","namedRoutes","routeHandlers","handlers","length","isString","replace","toLowerCase","console","warn","isRegExp","_routeToRegExp","routeData","handler","has","name","url","params","defaults","isArray","isObject","getUrl","routeHandler","_extractParameters","args","segment","key","object","slice","handleRoute","callback","section","executeRoute","any","test","navigate","previous","current","call","navigateTo","get","rest","concat","done","trigger","isFunction","_handleBlazerRoute","Error","flatten","index","match","isUndefined","isNull","matchesUrl","matchesRoute","isAncestor","indexOf","ancestors","nodes","segments","split","join","pop","reverse","each","keys","bind","siblings","nomatch","active","_runBeforeFilters","then","_runHandler","_runAfterFilters","fail","Array","errorHandled","_runFilters","which","stageFilters","compact","pluck","def","Deferred","chain","reduce","resolve","promise","reject","when","registerFilter","filterName","fn","beforeRoute","afterRoute"],"mappings":"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"}