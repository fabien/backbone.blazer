{"version":3,"file":"backbone.blazer.min.js","sources":["backbone.blazer.js"],"names":["root","factory","exports","module","require","define","amd","$","_","Backbone","this","Blazer","Route","options","extend","result","initialize","apply","arguments","Model","prototype","Events","destroy","stopListening","prepare","execute","error","redirect","fragment","redirectFragment","prependFilter","before","after","filters","filter","Router","createFilter","isEmpty","unshift","appendFilter","push","constructor","namedRoutes","routeHandlers","route","routeName","config","length","isString","replace","toLowerCase","console","warn","isRegExp","_routeToRegExp","routeData","handler","router","name","url","get","bind","history","params","_extractParameters","parameters","args","segment","key","object","slice","handleRoute","navigateTo","navigate","done","current","trigger","concat","previous","isFunction","_handleBlazerRoute","Error","path","isObject","isArray","flatten","rest","index","match","isUndefined","matchesUrl","indexOf","ancestors","nodes","segments","split","join","pop","reverse","each","keys","siblings","nomatch","active","callback","_runBeforeFilters","then","_runHandler","_runAfterFilters","fail","Array","call","errorHandled","_runFilters","which","stageFilters","compact","pluck","def","Deferred","chain","reduce","resolve","promise","reject","when","registerFilter","filterName","fn","beforeRoute","afterRoute"],"mappings":"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"}